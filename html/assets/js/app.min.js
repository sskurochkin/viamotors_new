(function(){"use strict";const a={init:function(){this.browserCheck(),this.vendorLoader(),this.scrollWidth(),this.modals(),this.validation(),this.base(),this.usa(),this.calc()},browserCheck:function(){const a=navigator.userAgent;-1<a.indexOf("Firefox")?document.querySelector("body").classList.add("browser-mozzila"):-1<a.indexOf("Opera")||-1<a.indexOf("OPR")?document.querySelector("body").classList.add("browser-opera"):-1<a.indexOf("Trident")?document.querySelector("body").classList.add("browser-ie"):-1<a.indexOf("Edge")?document.querySelector("body").classList.add("browser-edge"):-1<a.indexOf("Chrome")?document.querySelector("body").classList.add("browser-chrome"):-1<a.indexOf("Safari")&&document.querySelector("body").classList.add("browser-safari"),0<=navigator.platform.toUpperCase().indexOf("MAC")&&document.querySelector("body").classList.add("platform-mac")},vendorLoader:function(){window.vendorLoadStatus={},window.vendorLoader=function(a={}){return a.name?a.path?void(!window.vendor&&(window.vendor={}),!window.SITE_TEMPLATE_PATH&&(window.SITE_TEMPLATE_PATH="/"),window.vendor[a.name]={},window.vendor[a.name].load={},window.vendor[a.name].load.timeout):void console.warn("vendorLoader: You must pass the path!"):void console.warn("vendorLoader: You must pass the name!")}},scrollWidth:function(){if(document.body.scrollHeight<=window.innerHeight)document.documentElement.style.setProperty("--scrollWidth","0px");else{let a=document.createElement("div");a.style.overflowY="scroll",a.style.width="50px",a.style.height="50px",document.body.append(a);let b=a.offsetWidth-a.clientWidth;a.remove(),document.documentElement.style.setProperty("--scrollWidth",b+"px")}},modals(){class a{TRANSITION_TIME=300;constructor(a){if(this.element=document.getElementById(a),this.backdrop=document.createElement("div"),this.element&&!document.getElementById(a).modal){const b=(a,b=void 0)=>"hide"===a?b?.immediately?this.hide(!0):this.hide():void this.show();document.getElementById(a).modal=b,window.jQuery&&(jQuery.fn.modal=function(...a){return this[0].modal(...a),this}),this.element.querySelectorAll("[data-dismiss]")?.forEach(a=>{a.addEventListener("click",()=>{this.hide()})}),this.element.addEventListener("mousedown",a=>{a.target.closest(".modal-content")||this.hide()}),document.addEventListener("keydown",a=>{"Escape"===a.key&&this.hide()})}}addBackdrop(){this.backdrop.classList.add("modal-backdrop"),this.backdrop.classList.add("fade"),document.querySelector("body").append(this.backdrop),setTimeout(()=>{this.backdrop.classList.add("show"),this.backdrop.classList.add("in")},0)}removeBackdrop(a=void 0){a?this.backdrop.remove():(this.backdrop.classList.remove("in"),setTimeout(()=>{this.backdrop.classList.remove("show"),this.backdrop.remove()},this.TRANSITION_TIME))}show(){this.element.style.display="block",document.querySelector("body").style.paddingRight=a.getScrollWidth()+"px",document.querySelector("body").classList.add("modal-open"),this.element.classList.add("show"),this.element.classList.add("in"),this.addBackdrop(),setTimeout(()=>{this.element.dispatchEvent(new Event("XModalShow",{bubbles:!0}))})}hide(a=void 0){a?(this.removeBackdrop(!0),this.element.style.display="none",document.querySelector("body").style.paddingRight=null,document.querySelector("body").classList.remove("modal-open"),this.element.classList.remove("show"),this.element.classList.remove("in"),setTimeout(()=>{document.dispatchEvent(new Event("XModalHide"))})):(this.element.classList.remove("show"),this.element.classList.remove("in"),this.removeBackdrop(),setTimeout(()=>{this.element.style.display="none",document.querySelector("body").style.paddingRight=null,document.querySelector("body").classList.remove("modal-open"),setTimeout(()=>{document.dispatchEvent(new Event("XModalHide"))})},.8*this.TRANSITION_TIME))}}a.getScrollWidth=()=>{if(document.body.scrollHeight<=window.innerHeight)return 0;else{let a=document.createElement("div");a.style.overflowY="scroll",a.style.width="50px",a.style.height="50px",document.body.append(a);let b=a.offsetWidth-a.clientWidth;return a.remove(),b}},window.reinit||(window.reinit={}),window.reinit.modals=()=>{window.jQuery&&window.jQuery().modal||([...document.querySelectorAll(".modal")].forEach(b=>{const c=b.getAttribute("id").split("#").join("");new a(c)}),[...document.querySelectorAll("[data-target][data-toggle=\"modal\"]")].forEach(a=>{const b=a.getAttribute("data-target").split("#").join(""),c=document.getElementById(b);a.addEventListener("click",a=>{c.classList.remove("ta-hidden");const b=a.target?.innerText||"",d=a.target?.dataset.heading||"";d&&(c.classList.add("ta-hidden"),c.querySelector("textarea").value=d),c.querySelector(".modal-title").innerText=b,c?.modal&&c.modal()})}))},window.reinit.modals(),window.XModal=a},validation(){(()=>{window.Validator||(window.Validator=class{constructor(a){this.isLiveValidation=!0,this.form=a,this.formTouched=!1,this.fields=[],a.Validator&&a.Validator.destroy(),this.init(),a.Validator=this,this.modal=a.closest(".modal"),this.topOffset=document.querySelector(".header-sticky__inner")?.getBoundingClientRect().height||0}init(){this.liveValidationHandler=this.liveValidate.bind(this),this.submitHandlerBinded=this.submitHandler.bind(this),this.form.setAttribute("novalidate","novalidate"),this.form.classList.add("validator-initialized"),this.setHelpBlocks(),this.submit(),this.parseFields(),this.initLiveValidation()}destroy(){this.initLiveValidation(!0),this.formTouched=!1,this.fields=[],this.form.removeAttribute("novalidate"),this.form.classList.remove("validator-initialized"),[...this.form.querySelectorAll(".help-block")].forEach(a=>a.remove()),[...this.form.querySelectorAll(".form-group")].forEach(a=>a.classList.remove("has-error")),this.removeListeners()}removeListeners(){[...this.form.querySelectorAll(".form-control, .form-control-small")].forEach(a=>{a.removeEventListener("input",this.liveValidationHandler),a.removeEventListener("change",this.liveValidationHandler)}),this.form.removeEventListener("submit",this.submitHandlerBinded)}reinit(){this.init()}addValidator(a,b,c){const d=this.fields.find(b=>b.name===a),e={status:"NOT_VALIDATE",message:b,validator:c};d?d.validators.push(e):this.fields.push({name:a,validators:[e]})}removeValidator(a){const b=this.fields.find(b=>b.name===a);b&&(b.validators=[]),this.validateFields()}parseFields(){[...this.form.querySelectorAll(".form-control, .form-control-small")].forEach(a=>{const b=a.getAttribute("name"),c=a.hasAttribute("required"),d=a.hasAttribute("pattern"),e=a.getAttribute("data-bv-notempty-message")?.trim()||"\u041E\u0431\u044F\u0437\u0430\u0442\u0435\u043B\u044C\u043D\u043E\u0435 \u043F\u043E\u043B\u0435",f=a.getAttribute("data-bv-regexp-message")?.trim()||"\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0444\u043E\u0440\u043C\u0430\u0442";c&&this.addValidator(b,e,a=>(a="string"==typeof a?a.trim():a,!!a)),d&&this.addValidator(b,f,a=>{const c=this.form.querySelector(`[name="${b}"]`)?.getAttribute("pattern"),d=new RegExp(c),e=a.match(d,"gm");return!!e}),"tel"!==a.getAttribute("type")||a.hasAttribute("pattern")||this.addValidator(a.name,"\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0444\u043E\u0440\u043C\u0430\u0442",a=>{const b=a.match(/\+375 \([0-9]{2}\) [0-9]{3} [0-9]{2} [0-9]{2}/);return!!b})})}initLiveValidation(){this.isLiveValidation&&[...this.form.querySelectorAll(".form-control, .form-control-small")].forEach(a=>{a.addEventListener("input",this.liveValidationHandler),a.addEventListener("change",this.liveValidationHandler)})}liveValidate(){this.formTouched&&this.validateFields()}validateFields(){let a=!0;return this.fields.forEach(a=>{const b=a.name,c=this.form.querySelector(`[name="${b}"]`),d="checkbox"===c.type?c.checked:c.value;for(let b=0;b<a.validators.length;b++){const c=a.validators[b];c.status=c.validator(d)?"VALID":"INVALID"}}),this.showMessage(),this.fields.forEach(b=>{b.validators.forEach(b=>{"INVALID"===b.status&&(a=!1)})}),a}showMessage(){this.fields.forEach(a=>{const b=this.form.querySelector(`[name="${a.name}"]`).closest(".form-group");if(!a.validators.length)return b.classList.remove("has-error"),void b.querySelector(".help-block").classList.add("hidden");for(let c=0;c<a.validators.length;c++){const d=a.validators[c].status,e=a.validators[c].message;if("INVALID"===d){b.classList.add("has-error"),b.querySelector(".help-block").innerText=e,b.querySelector(".help-block").classList.remove("hidden");break}else b.classList.remove("has-error"),b.querySelector(".help-block").classList.add("hidden")}})}submit(){this.form.addEventListener("submit",this.submitHandlerBinded)}async submitHandler(a){this.formTouched=!0,a.preventDefault();const b=this.validateFields();if(!b){const a=this.form.querySelector(".form-group.has-error");if(null!==a&&!a.closest(".modal")){const b=a.getBoundingClientRect().top+window.pageYOffset-this.topOffset;window.scrollTo({top:b,behavior:"smooth"})}return}this.form.dispatchEvent(new Event("success.validator",{bubbles:!0})),await this.sendForm()}displayPreloader(){this.form.classList.add("preloader")}hidePreloader(){this.form.classList.remove("preloader")}async sendForm(){this.displayPreloader();const a=new FormData(this.form);try{const b=await fetch(this.form.action,{method:"POST",body:a}),c=await b.json();c?.success&&(this.form.reset(),this.destroy(),this.init(),this.modal&&this.modal.modal("hide")),setTimeout(()=>{this.showSuccessMessage(c?.message,c.success)},400)}catch(a){throw this.showSuccessMessage("\u041E\u0448\u0438\u0431\u043A\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430.</br>\u041F\u043E\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u043F\u043E\u0437\u0436\u0435.",!1),new Error(a)}finally{this.hidePreloader()}}showSuccessMessage(a,b=!0){const c=document.querySelector("#modal-success"),d=c.querySelector(".modal-title");d.style.color=b?"green":"red",d.innerHTML=a,this.hidePreloader(),c.modal()}setHelpBlocks(){const a=[...this.form.querySelectorAll(".form-group")];a.forEach(a=>{const b=document.createElement("div");b.classList.add("help-block"),b.classList.add("hidden"),b.innerText="\u041E\u0448\u0438\u0431\u043A\u0430 \u0432\u0430\u043B\u0438\u0434\u0430\u0446\u0438\u0438",a.append(b)})}})})(),(()=>{const a={_:{pattern:/[0-9]/},"@":{pattern:/[a-zA-Z]/},"*":{pattern:/[a-zA-Z0-9]/}},b=a=>JSON.parse(a.replaceAll("'","\"")),c=(a,b={})=>{const c={...b};return null!=a.dataset.maska&&""!==a.dataset.maska&&(c.mask=e(a.dataset.maska)),null!=a.dataset.maskaEager&&(c.eager=d(a.dataset.maskaEager)),null!=a.dataset.maskaReversed&&(c.reversed=d(a.dataset.maskaReversed)),null!=a.dataset.maskaTokensReplace&&(c.tokensReplace=d(a.dataset.maskaTokensReplace)),null!=a.dataset.maskaTokens&&(c.tokens=f(a.dataset.maskaTokens)),c},d=a=>!(""!==a)||!!JSON.parse(a),e=a=>a.startsWith("[")&&a.endsWith("]")?b(a):a,f=a=>{if(a.startsWith("{")&&a.endsWith("}"))return b(a);const c={};return a.split("|").forEach(a=>{const b=a.split(":");c[b[0]]={pattern:new RegExp(b[1]),optional:"optional"===b[2],multiple:"multiple"===b[2],repeated:"repeated"===b[2]}}),c};class g{items=new Map;constructor(a,b={}){this.options=b,"string"==typeof a?this.init(Array.from(document.querySelectorAll(a)),this.getMaskOpts(b)):this.init("length"in a?Array.from(a):[a],this.getMaskOpts(b))}destroy(){for(const a of this.items.keys())a.removeEventListener("input",this.inputEvent),a.removeEventListener("beforeinput",this.beforeinputEvent);this.items.clear()}needUpdateOptions(a,b){const d=this.items.get(a),e=new h(c(a,this.getMaskOpts(b)));return JSON.stringify(d.opts)!==JSON.stringify(e.opts)}needUpdateValue(a){const b=a.dataset.maskaValue;return null==b&&""!==a.value||null!=b&&b!==a.value}getMaskOpts(a){const{onMaska:b,preProcess:c,postProcess:d,...e}=a;return e}init(a,b){for(const d of a){const a=new h(c(d,b));this.items.set(d,a),""!==d.value&&this.setMaskedValue(d,d.value),d.addEventListener("input",this.inputEvent),d.addEventListener("beforeinput",this.beforeinputEvent)}}beforeinputEvent=a=>{const b=a.target,c=this.items.get(b);c.isEager()&&"inputType"in a&&a.inputType.startsWith("delete")&&1>=c.unmasked(b.value).length&&this.setMaskedValue(b,"")};inputEvent=a=>{if(a instanceof CustomEvent&&"input"===a.type&&null!=a.detail&&"object"==typeof a.detail&&"masked"in a.detail)return;const b=a.target,c=this.items.get(b),d=b.value,e=b.selectionStart,f=b.selectionEnd;let g=d;if(c.isEager()){const b=c.masked(d),e=c.unmasked(d);""===e&&"data"in a&&null!=a.data?g=a.data:e!==c.unmasked(b)&&(g=e)}if(this.setMaskedValue(b,g),"inputType"in a&&(a.inputType.startsWith("delete")||null!=e&&e<d.length))try{b.setSelectionRange(e,f)}catch{}};setMaskedValue(a,b){const c=this.items.get(a);null!=this.options.preProcess&&(b=this.options.preProcess(b));const d=c.masked(b),e=c.unmasked(c.isEager()?d:b),f=c.completed(b),g={masked:d,unmasked:e,completed:f};b=d,null!=this.options.postProcess&&(b=this.options.postProcess(b)),a.value=b,a.dataset.maskaValue=b,null!=this.options.onMaska&&(Array.isArray(this.options.onMaska)?this.options.onMaska.forEach(a=>a(g)):this.options.onMaska(g)),a.dispatchEvent(new CustomEvent("maska",{detail:g})),a.dispatchEvent(new CustomEvent("input",{detail:g}))}}class h{opts={};memo=new Map;constructor(b={}){const c={...b};if(null!=c.tokens){c.tokens=c.tokensReplace?{...c.tokens}:{...a,...c.tokens};for(const a of Object.values(c.tokens))"string"==typeof a.pattern&&(a.pattern=new RegExp(a.pattern))}else c.tokens=a;Array.isArray(c.mask)&&(1<c.mask.length?c.mask.sort((c,a)=>c.length-a.length):c.mask=c.mask[0]??""),""===c.mask&&(c.mask=null),this.opts=c}masked(a){return this.process(a,this.findMask(a))}unmasked(a){return this.process(a,this.findMask(a),!1)}isEager(){return!0===this.opts.eager}isReversed(){return!0===this.opts.reversed}completed(a){const b=this.findMask(a);if(null==this.opts.mask||null==b)return!1;const c=this.process(a,b).length;return"string"==typeof this.opts.mask?c>=this.opts.mask.length:"function"==typeof this.opts.mask?c>=b.length:this.opts.mask.filter(a=>c>=a.length).length===this.opts.mask.length}findMask(a){const b=this.opts.mask;if(null==b)return null;if("string"==typeof b)return b;if("function"==typeof b)return b(a);const c=this.process(a,b.slice(-1).pop()??"",!1);return b.find(b=>this.process(a,b,!1).length>=c.length)??""}escapeMask(a){const b=[],c=[];return a.split("").forEach((d,e)=>{"!"===d&&"!"!==a[e-1]?c.push(e-c.length):b.push(d)}),{mask:b.join(""),escaped:c}}process(a,b,c=!0){if(null==b)return a;const d=`value=${a},mask=${b},masked=${c?1:0}`;if(this.memo.has(d))return this.memo.get(d);const{mask:e,escaped:f}=this.escapeMask(b),g=[],h=null==this.opts.tokens?{}:this.opts.tokens,i=this.isReversed()?-1:1,j=this.isReversed()?"unshift":"push",k=this.isReversed()?0:e.length-1,l=this.isReversed()?()=>-1<q&&-1<r:()=>q<e.length&&r<a.length,n=a=>!this.isReversed()&&a<=k||this.isReversed()&&a>=k;let o,p=-1,q=this.isReversed()?e.length-1:0,r=this.isReversed()?a.length-1:0;for(;l();){const b=e.charAt(q),d=h[b],l=null==d?.transform?a.charAt(r):d.transform(a.charAt(r));if(!f.includes(q)&&null!=d){if(null!=l.match(d.pattern))g[j](l),d.repeated?(-1===p?p=q:q===k&&q!==p&&(q=p-i),k===p&&(q-=i)):d.multiple&&(q-=i),q+=i;else if(d.multiple){const a=null!=g[r-i]?.match(d.pattern),b=e.charAt(q+i);a&&""!==b&&null==h[b]?(q+=i,r-=i):g[j]("")}else if(l===o)o=void 0;else if(d.optional)q+=i,r-=i;else;r+=i}else c&&!this.isEager()&&g[j](b),l!==b||this.isEager()?o=b:r+=i,this.isEager()||(q+=i);if(this.isEager())for(;n(q)&&(null==h[e.charAt(q)]||f.includes(q));)c?g[j](e.charAt(q)):e.charAt(q)===a.charAt(r)&&(r+=i),q+=i}return this.memo.set(d,g.join("")),this.memo.get(d)}}window.Mask||(window.Mask=class{constructor(a){this.form=a,this.controllers=[],this.init(),this.form.Mask=this}init(){this.form?.querySelectorAll("[data-mask]").forEach(a=>{const b=a.getAttribute("data-mask");if(b){const c=new g(a,{mask:b});this.controllers.push(c)}})}addValidator(a,b){this.form.Validator&&this.form.Validator.addValidator(a,"\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0444\u043E\u0440\u043C\u0430\u0442",b)}destroy(){if(this.controllers?.length)for(;this.controllers.length;)this.controllers.pop().destroy()}})})(),document.querySelectorAll("form.form-validate").forEach(a=>{new Validator(a),new Mask(a)})},base:function(){document.querySelector(".burger-icon")?.addEventListener("click",function(){this.classList.toggle("active"),this.closest(".header-nav").classList.toggle("active")})},usa:function(){const a=document.querySelectorAll(".days-buy li").length;let b=0;const c=b=>{const c=document.querySelector(`[data-tab="proc-s-${b}"]`),d=document.querySelector(`.proc-s-${b}`),e=document.querySelector(".js-prev-proc-b"),f=document.querySelector(".js-next-proc-b");document.querySelectorAll(".days-buy li, .car-proc").forEach(a=>{a.classList.remove("active")}),c?.classList.add("active"),d?.classList.add("active"),e?.classList.toggle("disabled",1===b),f?.classList.toggle("disabled",b===a)};document.querySelectorAll(".days-buy li").forEach(a=>{a.addEventListener("click",()=>{const d=a.getAttribute("data-tab");b=parseInt(d.match(/\d+/)[0],10),c(b)})}),document.querySelector(".js-next-proc-b")?.addEventListener("click",()=>{b<a&&(b++,c(b))}),document.querySelector(".js-prev-proc-b")?.addEventListener("click",()=>{1<b&&(b--,c(b))})},calc:function(){document.addEventListener("DOMContentLoaded",function(){async function a(){try{const a=await fetch(l);if(!a.ok)throw new Error(`Ошибка при загрузке данных EUR: ${a.status}`);const d=await a.json();q=c(d),p=b(d.Date);const e=await fetch(m);if(!e.ok)throw new Error(`Ошибка при загрузке данных USD: ${e.status}`)}catch(a){console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0438 JSON:",a)}}function b(a){const b=new Date(a),c=(b.getDate()+"").padStart(2,"0"),d=(b.getMonth()+1+"").padStart(2,"0"),e=b.getFullYear();return`${c}.${d}.${e}`}function c(a){return a&&"number"==typeof a.Cur_OfficialRate?a.Cur_OfficialRate:(console.error("\u041A\u043B\u044E\u0447 'Cur_OfficialRate' \u043E\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u0438\u043B\u0438 \u043D\u0435\u043A\u043E\u0440\u0440\u0435\u043A\u0442\u0435\u043D \u0432 JSON:",a),null)}function d(){const a=["Copart","IAAI"],b=document.getElementById("auctionType");b.innerHTML=`<option value="" disabled selected>Выберите аукцион</option>`,a.forEach(a=>{b.innerHTML+=`<option value="${a}">${a}</option>`}),b.addEventListener("change",function(){b.value&&(lotLocation.removeAttribute("disabled"),e())})}function e(){let a=[];const b=document.getElementById("auctionType").value.toLowerCase();let c=o;a=[...new Set(o.map(a=>a.city))],"iaai"==b&&(a=[...new Set(n.map(a=>a.city))],c=n);const d=a.filter(a=>{const b=c.filter(b=>b.city===a),d=b.some(a=>a&&" "!==a);return d}),e=document.getElementById("lotLocation");e.innerHTML=`<option value="" disabled selected>Выберите площадку</option>`,d.forEach(a=>{e.innerHTML+=`<option value="${a}">${a}</option>`})}function f(a){const b=[{max:100,buyerFee:1,internetFee:0},{max:200,buyerFee:25,internetFee:0},{max:300,buyerFee:60,internetFee:0},{max:350,buyerFee:85,internetFee:0},{max:400,buyerFee:100,internetFee:0},{max:450,buyerFee:125,internetFee:50},{max:500,buyerFee:135,internetFee:50},{max:550,buyerFee:145,internetFee:50},{max:600,buyerFee:155,internetFee:50},{max:700,buyerFee:170,internetFee:65},{max:800,buyerFee:195,internetFee:65},{max:900,buyerFee:215,internetFee:65},{max:1e3,buyerFee:230,internetFee:65},{max:1200,buyerFee:250,internetFee:85},{max:1300,buyerFee:270,internetFee:85},{max:1400,buyerFee:285,internetFee:95},{max:1500,buyerFee:300,internetFee:95},{max:1600,buyerFee:315,internetFee:95},{max:1700,buyerFee:330,internetFee:95},{max:1800,buyerFee:350,internetFee:95},{max:2e3,buyerFee:370,internetFee:95},{max:2400,buyerFee:390,internetFee:110},{max:2500,buyerFee:425,internetFee:110},{max:3e3,buyerFee:460,internetFee:110},{max:3500,buyerFee:505,internetFee:125},{max:4e3,buyerFee:555,internetFee:125},{max:4500,buyerFee:600,internetFee:125},{max:5e3,buyerFee:625,internetFee:125},{max:5500,buyerFee:650,internetFee:145},{max:6e3,buyerFee:675,internetFee:145},{max:6500,buyerFee:700,internetFee:145},{max:7e3,buyerFee:720,internetFee:145},{max:7500,buyerFee:755,internetFee:145},{max:8e3,buyerFee:775,internetFee:145},{max:8500,buyerFee:800,internetFee:160},{max:1e4,buyerFee:820,internetFee:160},{max:11500,buyerFee:850,internetFee:160},{max:12e3,buyerFee:860,internetFee:160},{max:12500,buyerFee:875,internetFee:160},{max:15e3,buyerFee:890,internetFee:160},{max:1/0,buyerFee:6*a/100,internetFee:160}],c=b.find(b=>a<=b.max);let d=c?c.buyerFee:6*a/100,e=c?c.internetFee:160;const f=95,g=20,h=15;return d+95+e+g+h}function g(a,b,c){var d=Math.max;let e=0;return e=1===a?8500>=c?d(.54*c,2.5*b):16700>=c?d(.48*c,3.5*b):42300>=c?d(.48*c,5.5*b):84500>=c?d(.48*c,7.5*b):169e3>=c?d(.48*c,15*b):d(.48*c,20*b):2===a?1e3>=b?1.5*b:1500>=b?1.7*b:1800>=b?2.5*b:2300>=b?2.7*b:3e3>=b?3*b:3.6*b:1e3>=b?3*b:1500>=b?3.2*b:1800>=b?3.5*b:2300>=b?4.8*b:3e3>=b?5*b:5.7*b,e}function h(a,b,c,d){console.log("auctionType: "+a),console.log("Location: "+b),console.log("Port: "+c),console.log("Type: "+d);let e=o.find(a=>a.city===b);"iaai"===a&&(e=n.find(a=>a.city===b));const f=[{warehouse:"NEW JERSEY",priceSedan:1500,priceBigSuv:1850,priceMoto:700},{warehouse:"GEORGIA",priceSedan:1500,priceBigSuv:1775,priceMoto:700},{warehouse:"TEXAS",priceSedan:1680,priceBigSuv:2150,priceMoto:700},{warehouse:"CALIFORNIA",priceSedan:2150,priceBigSuv:2750,priceMoto:750},{warehouse:"CHICAGO",priceSedan:1700,priceBigSuv:2200,priceMoto:750},{warehouse:"SEATTLE",priceSedan:2100,priceBigSuv:2900,priceMoto:950}],g=[{warehouse:"NEW JERSEY",priceSedan:1225,priceBigSuv:1575,priceMoto:595},{warehouse:"GEORGIA",priceSedan:1195,priceBigSuv:1625,priceMoto:595},{warehouse:"TEXAS",priceSedan:1335,priceBigSuv:1625,priceMoto:595},{warehouse:"CALIFORNIA",priceSedan:1750,priceBigSuv:2225,priceMoto:650},{warehouse:"CHICAGO",priceSedan:1475,priceBigSuv:1775,priceMoto:650},{warehouse:"SEATTLE",priceSedan:2175,priceBigSuv:2725,priceMoto:1100}];return"sedan"===d?(console.log("Run type sedan"),"georgia"===c?f.find(a=>a.warehouse===e.warehouse).priceSedan:g.find(a=>a.warehouse===e.warehouse).priceSedan):"big"===d||"pickUp"===d?(console.log("Run type big"),"georgia"===c?f.find(a=>a.warehouse===e.warehouse).priceBigSuv:g.find(a=>a.warehouse===e.warehouse).priceBigSuv):"moto"===d?(console.log("Run type moto"),"georgia"===c?f.find(a=>a.warehouse===e.warehouse).priceMoto:g.find(a=>a.warehouse===e.warehouse).priceMoto):(console.log("Run type else"),"georgia"===c?2*f.find(a=>a.warehouse===e.warehouse).priceSedan:2*g.find(a=>a.warehouse===e.warehouse).priceSedan)}function i(a){return 1===a?544.5:1089}function j(a,b,c){let d=0;d=250>b?14:800>b?15:10,c&&(d=14);let e=a*d/100,f=20*(a+e)/100;return e+f}function k(a){let b=document.getElementById("fireContainerRow");const c=document.getElementById("portFee").parentNode;0<a?b?document.getElementById("fireContainer").textContent=`$${a}`:(b=document.createElement("p"),b.id="fireContainerRow",b.innerHTML=`Огнеупорный контейнер: <span id="fireContainer">$${a}</span>`,c.parentNode.insertBefore(b,c.nextSibling)):b&&b.remove()}const l="https://api.nbrb.by/exrates/rates/EUR?parammode=2",m="https://api.nbrb.by/exrates/rates/USD?parammode=2";let n={},o={},p="",q=3.5;const r=document.getElementById("expense-calculator");r&&(document.getElementById("expense-calculator").addEventListener("change",function a(){const b=parseFloat(document.getElementById("carCost").value||0),c=document.getElementById("auctionType").value.toLowerCase(),d=parseFloat(document.getElementById("engineVolume").value||0),e=document.getElementById("lotLocation").value,l=document.getElementById("delivery").value,m=document.getElementById("carType").value,n=parseFloat(document.getElementById("carAge").value||0),p=document.getElementById("discount").checked,q=document.getElementById("electric").checked,r=document.getElementById("gibrid").checked,s=document.getElementById("insurance").checked;let t,u;t=o.find(a=>a.city===e),"sedan"===m&&(u=t?.["large"]||0),("pickUp"===m||"big"===m)&&(u=t?.["oversize"]||0),"moto"===m&&(u=t?.["moto"]||0),"iaai"===c&&(t=o.find(a=>a.city===e),"sedan"===m&&(u=t?.["large"]||0),("pickUp"===m||"big"===m)&&(u=t?.["oversize"]||0),"moto"===m&&(u=t?.["moto"]||0));let v=t?.warehouse||"";Number.isFinite(u)||(u=0);let w=h(c,e,l,m),x=g(n,d,b),y=f(b),z=i(n),A=0;q&&(x=0,A=300),r&&(A=300),"moto"===m&&(x=j(b,d,q)),p&&(x*=.5),k(A);let B=150;const C=120,D=400;let E=b+A+y+u+w+150+x*1.05+(120+z+D)/3.4;s&&(E+=.03*E),document.getElementById("purchaseCost").textContent=`${b} $`,document.getElementById("auctionFee").textContent=`${y.toFixed(0)} $`,document.getElementById("deliveryToPort").textContent=`${u} $`,document.getElementById("usaPortName").textContent=`Транспортировка в порт ${v}:`,document.getElementById("deliveryByOcean").textContent=`${w} $`,document.getElementById("portFee").textContent=`${150} $`,document.getElementById("customsDuty").textContent=`${x.toFixed(0)} €`,document.getElementById("customsFee").textContent=`${120} BYN`,document.getElementById("recyclingFee").textContent=`${z} BYN`,document.getElementById("storageFee").textContent=`${D} BYN`,document.getElementById("total").textContent=`${E.toFixed(0)} $`}),async function b(){try{const b=await fetch("./iaai.json");n=await b.json(),console.log("\u0414\u0430\u043D\u043D\u044B\u0435 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043D\u044B:",n);const c=await fetch("./copart.json");o=await c.json(),console.log("\u0414\u0430\u043D\u043D\u044B\u0435 copart \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043D\u044B:",o),d(),a()}catch(a){console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0438 JSON:",a)}}())})}};(a=>{"loading"==document.readyState?document.addEventListener("DOMContentLoaded",a):a()})(()=>{a.init()})})();

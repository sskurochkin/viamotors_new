(function(){"use strict";const a={init:function(){this.browserCheck(),this.vendorLoader(),this.scrollWidth(),this.base(),this.usa(),this.calc()},browserCheck:function(){const a=navigator.userAgent;-1<a.indexOf("Firefox")?document.querySelector("body").classList.add("browser-mozzila"):-1<a.indexOf("Opera")||-1<a.indexOf("OPR")?document.querySelector("body").classList.add("browser-opera"):-1<a.indexOf("Trident")?document.querySelector("body").classList.add("browser-ie"):-1<a.indexOf("Edge")?document.querySelector("body").classList.add("browser-edge"):-1<a.indexOf("Chrome")?document.querySelector("body").classList.add("browser-chrome"):-1<a.indexOf("Safari")&&document.querySelector("body").classList.add("browser-safari"),0<=navigator.platform.toUpperCase().indexOf("MAC")&&document.querySelector("body").classList.add("platform-mac")},vendorLoader:function(){window.vendorLoadStatus={},window.vendorLoader=function(a={}){return a.name?a.path?void(!window.vendor&&(window.vendor={}),!window.SITE_TEMPLATE_PATH&&(window.SITE_TEMPLATE_PATH="/"),window.vendor[a.name]={},window.vendor[a.name].load={},window.vendor[a.name].load.timeout):void console.warn("vendorLoader: You must pass the path!"):void console.warn("vendorLoader: You must pass the name!")}},scrollWidth:function(){if(document.body.scrollHeight<=window.innerHeight)document.documentElement.style.setProperty("--scrollWidth","0px");else{let a=document.createElement("div");a.style.overflowY="scroll",a.style.width="50px",a.style.height="50px",document.body.append(a);let b=a.offsetWidth-a.clientWidth;a.remove(),document.documentElement.style.setProperty("--scrollWidth",b+"px")}},base:function(){document.querySelector(".burger-icon")?.addEventListener("click",function(){this.classList.toggle("active"),this.closest(".header-nav").classList.toggle("active")})},usa:function(){const a=document.querySelectorAll(".days-buy li").length;let b=0;const c=b=>{const c=document.querySelector(`[data-tab="proc-s-${b}"]`),d=document.querySelector(`.proc-s-${b}`),e=document.querySelector(".js-prev-proc-b"),f=document.querySelector(".js-next-proc-b");document.querySelectorAll(".days-buy li, .car-proc").forEach(a=>{a.classList.remove("active")}),c?.classList.add("active"),d?.classList.add("active"),e?.classList.toggle("disabled",1===b),f?.classList.toggle("disabled",b===a)};document.querySelectorAll(".days-buy li").forEach(a=>{a.addEventListener("click",()=>{const d=a.getAttribute("data-tab");b=parseInt(d.match(/\d+/)[0],10),c(b)})}),document.querySelector(".js-next-proc-b")?.addEventListener("click",()=>{b<a&&(b++,c(b))}),document.querySelector(".js-prev-proc-b")?.addEventListener("click",()=>{1<b&&(b--,c(b))})},calc:function(){document.addEventListener("DOMContentLoaded",function(){async function a(){try{const a=await fetch(m);if(!a.ok)throw new Error(`Ошибка при загрузке данных EUR: ${a.status}`);const d=await a.json();s=c(d),q=b(d.Date);const e=await fetch(n);if(!e.ok)throw new Error(`Ошибка при загрузке данных USD: ${e.status}`);const f=await e.json();r=c(f),t=s/r,console.log("Date Rate:",q),console.log("USD Rate:",r),console.log("EUR Rate:",s),console.log("USD to EUR:",t),document.getElementById("rates").innerHTML=`Курс валют НБРБ на ${q}:<br> USD - ${r}, EUR - ${s}, EUR/USD - ${t.toFixed(4)}`}catch(a){console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0438 JSON:",a)}}function b(a){const b=new Date(a),c=(b.getDate()+"").padStart(2,"0"),d=(b.getMonth()+1+"").padStart(2,"0"),e=b.getFullYear();return`${c}.${d}.${e}`}function c(a){return a&&"number"==typeof a.Cur_OfficialRate?a.Cur_OfficialRate:(console.error("\u041A\u043B\u044E\u0447 'Cur_OfficialRate' \u043E\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u0438\u043B\u0438 \u043D\u0435\u043A\u043E\u0440\u0440\u0435\u043A\u0442\u0435\u043D \u0432 JSON:",a),null)}function d(){const a=["Copart","IAAI"],b=document.getElementById("auctionType");b.innerHTML=`<option value="" disabled selected>Выберите аукцион</option>`,a.forEach(a=>{b.innerHTML+=`<option value="${a}">${a}</option>`}),b.addEventListener("change",function(){b.value&&(lotLocation.removeAttribute("disabled"),e())})}function e(){let a=[];const b=document.getElementById("auctionType").value.toLowerCase();let c=p;a=[...new Set(p.map(a=>a.city))],"iaai"==b&&(a=[...new Set(o.map(a=>a.city))],c=o);const d=a.filter(a=>{const b=c.filter(b=>b.city===a),d=b.some(a=>a&&" "!==a);return d}),e=document.getElementById("lotLocation");e.innerHTML=`<option value="" disabled selected>Выберите площадку</option>`,d.forEach(a=>{e.innerHTML+=`<option value="${a}">${a}</option>`})}function f(a){const b=[{max:100,buyerFee:1,internetFee:0},{max:200,buyerFee:25,internetFee:0},{max:300,buyerFee:60,internetFee:0},{max:350,buyerFee:85,internetFee:0},{max:400,buyerFee:100,internetFee:0},{max:450,buyerFee:125,internetFee:50},{max:500,buyerFee:135,internetFee:50},{max:550,buyerFee:145,internetFee:50},{max:600,buyerFee:155,internetFee:50},{max:700,buyerFee:170,internetFee:65},{max:800,buyerFee:195,internetFee:65},{max:900,buyerFee:215,internetFee:65},{max:1e3,buyerFee:230,internetFee:65},{max:1200,buyerFee:250,internetFee:85},{max:1300,buyerFee:270,internetFee:85},{max:1400,buyerFee:285,internetFee:95},{max:1500,buyerFee:300,internetFee:95},{max:1600,buyerFee:315,internetFee:95},{max:1700,buyerFee:330,internetFee:95},{max:1800,buyerFee:350,internetFee:95},{max:2e3,buyerFee:370,internetFee:95},{max:2400,buyerFee:390,internetFee:110},{max:2500,buyerFee:425,internetFee:110},{max:3e3,buyerFee:460,internetFee:110},{max:3500,buyerFee:505,internetFee:125},{max:4e3,buyerFee:555,internetFee:125},{max:4500,buyerFee:600,internetFee:125},{max:5e3,buyerFee:625,internetFee:125},{max:5500,buyerFee:650,internetFee:145},{max:6e3,buyerFee:675,internetFee:145},{max:6500,buyerFee:700,internetFee:145},{max:7e3,buyerFee:720,internetFee:145},{max:7500,buyerFee:755,internetFee:145},{max:8e3,buyerFee:775,internetFee:145},{max:8500,buyerFee:800,internetFee:160},{max:1e4,buyerFee:820,internetFee:160},{max:11500,buyerFee:850,internetFee:160},{max:12e3,buyerFee:860,internetFee:160},{max:12500,buyerFee:875,internetFee:160},{max:15e3,buyerFee:890,internetFee:160},{max:1/0,buyerFee:6*a/100,internetFee:160}],c=b.find(b=>a<=b.max);let d=c?c.buyerFee:6*a/100,e=c?c.internetFee:160;const f=95,g=20,h=15;return d+95+e+g+h}function g(a,b,c){var d=Math.max;let e=0;return e=1===a?8500>=c?d(.54*c,2.5*b):16700>=c?d(.48*c,3.5*b):42300>=c?d(.48*c,5.5*b):84500>=c?d(.48*c,7.5*b):169e3>=c?d(.48*c,15*b):d(.48*c,20*b):2===a?1e3>=b?1.5*b:1500>=b?1.7*b:1800>=b?2.5*b:2300>=b?2.7*b:3e3>=b?3*b:3.6*b:1e3>=b?3*b:1500>=b?3.2*b:1800>=b?3.5*b:2300>=b?4.8*b:3e3>=b?5*b:5.7*b,e}function h(a,b,c,d){console.log("auctionType: "+a),console.log("Location: "+b),console.log("Port: "+c),console.log("Type: "+d);let e=p.find(a=>a.city===b);"iaai"===a&&(e=o.find(a=>a.city===b));const f=[{warehouse:"NEW JERSEY",priceSedan:1500,priceBigSuv:1850,priceMoto:700},{warehouse:"GEORGIA",priceSedan:1500,priceBigSuv:1775,priceMoto:700},{warehouse:"TEXAS",priceSedan:1680,priceBigSuv:2150,priceMoto:700},{warehouse:"CALIFORNIA",priceSedan:2150,priceBigSuv:2750,priceMoto:750},{warehouse:"CHICAGO",priceSedan:1700,priceBigSuv:2200,priceMoto:750},{warehouse:"SEATTLE",priceSedan:2100,priceBigSuv:2900,priceMoto:950}],g=[{warehouse:"NEW JERSEY",priceSedan:1225,priceBigSuv:1575,priceMoto:595},{warehouse:"GEORGIA",priceSedan:1195,priceBigSuv:1625,priceMoto:595},{warehouse:"TEXAS",priceSedan:1335,priceBigSuv:1625,priceMoto:595},{warehouse:"CALIFORNIA",priceSedan:1750,priceBigSuv:2225,priceMoto:650},{warehouse:"CHICAGO",priceSedan:1475,priceBigSuv:1775,priceMoto:650},{warehouse:"SEATTLE",priceSedan:2175,priceBigSuv:2725,priceMoto:1100}];return"sedan"===d?(console.log("Run type sedan"),"georgia"===c?f.find(a=>a.warehouse===e.warehouse).priceSedan:g.find(a=>a.warehouse===e.warehouse).priceSedan):"big"===d||"pickUp"===d?(console.log("Run type big"),"georgia"===c?f.find(a=>a.warehouse===e.warehouse).priceBigSuv:g.find(a=>a.warehouse===e.warehouse).priceBigSuv):"moto"===d?(console.log("Run type moto"),"georgia"===c?f.find(a=>a.warehouse===e.warehouse).priceMoto:g.find(a=>a.warehouse===e.warehouse).priceMoto):(console.log("Run type else"),"georgia"===c?2*f.find(a=>a.warehouse===e.warehouse).priceSedan:2*g.find(a=>a.warehouse===e.warehouse).priceSedan)}function i(a){return 1===a?544.5:1089}function j(a,b,c){let d=0;d=250>b?14:800>b?15:10,c&&(d=14);let e=a*d/100,f=20*(a+e)/100;return e+f}function k(a){let b=document.getElementById("fireContainerRow");const c=document.getElementById("portFee").parentNode;0<a?b?document.getElementById("fireContainer").textContent=`$${a}`:(b=document.createElement("p"),b.id="fireContainerRow",b.innerHTML=`Огнеупорный контейнер: <span id="fireContainer">$${a}</span>`,c.parentNode.insertBefore(b,c.nextSibling)):b&&b.remove()}function l(){const a=parseFloat(document.getElementById("carCost").value||0),b=document.getElementById("auctionType").value.toLowerCase(),c=parseFloat(document.getElementById("engineVolume").value||0),d=document.getElementById("lotLocation").value,e=document.getElementById("delivery").value,l=document.getElementById("carType").value,m=parseFloat(document.getElementById("carAge").value||0),n=document.getElementById("discount").checked,o=document.getElementById("electric").checked,q=document.getElementById("gibrid").checked,s=document.getElementById("insurance").checked;let u,v;u=p.find(a=>a.city===d),"sedan"===l&&(v=u?.["large"]||0),("pickUp"===l||"big"===l)&&(v=u?.["oversize"]||0),"moto"===l&&(v=u?.["moto"]||0),"iaai"===b&&(u=p.find(a=>a.city===d),"sedan"===l&&(v=u?.["large"]||0),("pickUp"===l||"big"===l)&&(v=u?.["oversize"]||0),"moto"===l&&(v=u?.["moto"]||0));let w=u?.warehouse||"";Number.isFinite(v)||(v=0);let x=h(b,d,e,l),y=g(m,c,a),z=f(a),A=i(m),B=0;o&&(y=0,B=300),q&&(B=300),"moto"===l&&(y=j(a,c,o)),n&&(y*=.5),k(B);let C=150;const D=120,E=400;let F=a+B+z+v+x+150+y*t+(120+A+E)/r;s&&(F+=.03*F),document.getElementById("purchaseCost").textContent=`${a} $`,document.getElementById("auctionFee").textContent=`${z.toFixed(0)} $`,document.getElementById("deliveryToPort").textContent=`${v} $`,document.getElementById("usaPortName").textContent=`Транспортировка в порт ${w}:`,document.getElementById("deliveryByOcean").textContent=`${x} $`,document.getElementById("portFee").textContent=`${150} $`,document.getElementById("customsDuty").textContent=`${y.toFixed(0)} €`,document.getElementById("customsFee").textContent=`${120} BYN`,document.getElementById("recyclingFee").textContent=`${A} BYN`,document.getElementById("storageFee").textContent=`${E} BYN`,document.getElementById("total").textContent=`${F.toFixed(0)} $`}const m="https://api.nbrb.by/exrates/rates/EUR?parammode=2",n="https://api.nbrb.by/exrates/rates/USD?parammode=2";let o={},p={},q="",r=3.4,s=3.5,t=1.05;const u=document.getElementById("expense-calculator");u&&(document.getElementById("expense-calculator").addEventListener("change",l),async function b(){try{const b=await fetch("./iaai.json");o=await b.json(),console.log("\u0414\u0430\u043D\u043D\u044B\u0435 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043D\u044B:",o);const c=await fetch("./copart.json");p=await c.json(),console.log("\u0414\u0430\u043D\u043D\u044B\u0435 copart \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043D\u044B:",p),d(),a()}catch(a){console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0438 JSON:",a)}}())})}};(a=>{"loading"==document.readyState?document.addEventListener("DOMContentLoaded",a):a()})(()=>{a.init()})})();
